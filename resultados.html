<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cargando...</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
  <link rel="icon" href="../img/logo-tiquetesbaratos.webp" type="image/png">
  <link rel="stylesheet" href="../css/styles.css" />
  <link rel="stylesheet" href="../css/resultados.css" />
  <link rel="stylesheet" href="../css/mobile.css" />

  <style>
    /* Franja superior azul */
    .supra-container {
      position: relative;
      background: linear-gradient(135deg, #004aad, #007bff);
      border-bottom: 2px solid #ccc;
      margin-left: auto;
      width: 100%;
      padding: 20px;
      text-align: center;
      color: #fff;
    }
    .supra-container h1 {
      font-size: 1.8rem;
      margin: 0;
      font-weight: bold;
    }
    .supra-container p {
      margin-top: 8px;
      font-size: 1rem;
      color: #e0e0e0;
    }
  </style>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const params = new URLSearchParams(window.location.search);
      const origen = params.get('origen');
      const destino = params.get('destino');

      if (origen && destino) {
        const origenCap = origen.charAt(0).toUpperCase() + origen.slice(1).toLowerCase();
        const destinoCap = destino.charAt(0).toUpperCase() + destino.slice(1).toLowerCase();
        document.title = `Vuelos a ${destinoCap} desde ${origenCap} | Tiquetes Baratos`;
      }
    });
  </script>
</head>

<body>
  <!-- Loader -->
  <div id="loader">
    <p>Buscando las mejores ofertas de vuelos...</p>
    <img src="../assets/Loading-step.gif" alt="Cargando">
  </div>

  <!-- Header -->
  <div class="header-wrapper">
    <div class="promo-banner">
      <span>Â¡Ahorra hasta <strong>10% extra en hoteles</strong> con nuestra app!</span>
      <div class="promo-actions">
        <button class="btn-download">Descargar</button>
        <button class="btn-close">âœ•</button>
      </div>
    </div>
    <header>
      <div class="logo">
        <img src="../img/logo-tiquetesbaratos.webp" alt="Logo Tiquetes Baratos" onclick="window.location.href='/'">
      </div>

      <div class="lang-currency">
        <div class="idioma">
          <img src="../img/es.svg" alt="Colombia" class="flag">
          <span onclick="document.getElementById('modal-settings').showModal()">EspaÃ±ol - COP</span>
        </div>
        <!-- Modal idioma/moneda -->
        <dialog id="modal-settings">
          <div class="modal-header">
            <h2>SelecciÃ³n de idioma y moneda</h2>
            <button class="close-btn" onclick="document.getElementById('modal-settings').close()">âœ•</button>
          </div>
          <div class="section">
            <h3>Idioma</h3>
            <div class="option active">ðŸ‡¨ðŸ‡´ EspaÃ±ol</div>
            <div class="option">ðŸ‡ºðŸ‡¸ English</div>
          </div>
          <div class="section">
            <h3>Moneda</h3>
            <p style="font-size: 0.9rem; color: #555;">Los precios se mostrarÃ¡n en la moneda que selecciones.</p>
            <div class="option active">Peso colombiano â€“ COP</div>
            <div class="option">US Dollar â€“ USD</div>
            <div class="option">Peso mexicano â€“ MXN</div>
            <div class="option">Euro â€“ EUR</div>
            <div class="option">Peso argentino â€“ ARS</div>
          </div>
          <button class="apply-btn" onclick="document.getElementById('modal-settings').close()">Aplicar</button>
        </dialog>
      </div>

      <div class="user-actions">
        <a href="#" class="login-btn">Iniciar SesiÃ³n</a>
      </div>

      <nav>
        <a href="#"><img src="../assets/RiPlaneFill.svg" alt=""> Vuelos</a>
        <a href="#"><i class="fas fa-bed"></i> Hoteles</a>
        <a href="#"><img src="../assets/Fa6SolidSuitcase.svg" alt=""> Hotel + Vuelo</a>
        <a href="#"><img src="../assets/TablerMickeyFilled.svg" alt=""> Disney</a>
        <a href="#"><i class="fas fa-fire"></i> Ofertas</a>
      </nav>
    </header>
  </div>

  <!-- Franja azul supra-container -->
  <div class="supra-container">
    <h1>Colombia, por ti viajarÃ©.</h1>
    <p>Descubre tu prÃ³ximo destino en un solo lugar</p>
  </div>

  <!-- Buscador -->
  <div class="container">
    <div class="radio-buttons">
      <input type="radio" id="soloIda" name="tipoVuelo" value="soloIda" />
      <label for="soloIda">Solo Ida</label>
      <input type="radio" id="idaRegreso" name="tipoVuelo" value="idaRegreso" checked />
      <label for="idaRegreso">Ida y regreso</label>
    </div>

    <div class="form-row">
      <!-- Origen -->
      <div class="field">
        <label for="input-origen" class="field-label">Origen</label>
        <div class="field-content" id="origen-container">
          <i class="fas fa-plane-departure"></i>
          <input type="text" id="input-origen" placeholder="Origen" autocomplete="off" />
          <div class="dropdown hidden" id="dropdown-origen"></div>
        </div>
        <div class="field-underline"></div>
      </div>

      <!-- Destino -->
      <div class="field">
        <label for="input-destino" class="field-label">Destino</label>
        <div class="field-content" id="destino-container">
          <i class="fas fa-plane-arrival"></i>
          <input type="text" id="input-destino" placeholder="Destino" autocomplete="off" />
          <div class="dropdown hidden" id="dropdown-destino"></div>
        </div>
        <div class="field-underline"></div>
      </div>

      <!-- Fechas -->
      <div class="field">
        <label for="input-fechas" class="field-label">Fechas</label>
        <div class="field-content" id="fechas-container">
          <i class="fas fa-calendar-alt"></i>
          <input type="text" id="input-fechas" placeholder="Selecciona una fecha" readonly />
          <div class="calendar hidden" id="calendar-fechas"></div>
        </div>
        <div class="field-underline"></div>
      </div>

      <!-- Pasajeros -->
      <div class="field">
        <label for="input-pasajeros" class="field-label">Pasajeros</label>
        <div class="field-content">
          <i class="fas fa-users"></i>
          <input type="text" id="input-pasajeros" placeholder="1 adulto" readonly />
          <div class="passenger-dropdown hidden" id="dropdown-pasajeros"></div>
        </div>
        <div class="field-underline"></div>
      </div>

      <!-- BotÃ³n -->
      <button class="buscar-2" type="submit"><img src="../assets/MapSearch.svg" alt=""></button>
    </div>
  </div>

  <!-- SecciÃ³n resultados -->
  <div class="section-2">
    <div class="btn-group">
      <label class="btn btn--highlight"><input type="checkbox" /> <span class="checkbox"></span>MÃ¡s EconÃ³micos</label>
      <button id="openFiltersBtn" class="btn btn--midlight">Filtros <i class="fas fa-caret-down"></i></button>
      <button class="btn btn--midlight"><i class="far fa-calendar-alt"></i> Fechas cercanas</button>
    </div>

    <div class="flight-title">
      <h2>âœˆ Vuelos de ida</h2>
      <p>Tarifas por viajero con impuestos y sobrecargos en ($ COP)</p>
    </div>
    <div id="flights"></div>
  </div>

  <div id="selected-footer" class="selected-footer">
    <span class="step">Selecciona tu vuelo de ida</span>
    <span class="step step-2">Selecciona tu vuelo de regreso</span>
  </div>

  <!-- Scripts -->
  <script src="../js/mobile-header.js"></script>
  <script src="../js/function.js" defer></script>
  <script src="../js/resultados.js" defer></script>
  <script src="../js/flightSelector.js" type="module"></script>
  <script src="../js/main.js" type="module"></script>
  <script src="../js/mobile-flight-view.js"></script>
</body>
</html>
